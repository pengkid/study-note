## 树的定义

树是一种**非线性**的数据结构，它以分层的形式存储数据。树由一组以边连接的节点组成。节点代表着存储的数据，边代表着各数据之间的层级关系。

![](/assets/BST1.png)

一棵树最上面的节点称为**根节点**，如果一个节点的下面连接了多个节点，那么该节点称为**父节点**，它下面的节点称为**子节点**。

一个节点可以有0个、1个或者多个字节。没有任何子节点的节点称为**叶子结点**。

树可以分为几个层次，根节点是第0层，它的子节点是第1层，子节点的子节点是第2层，以此类推。树的层数称为**树的深度**。树中任何一层的节点都可以看作是子树的根。

## 二叉树和二叉查找树

二叉树是一种特殊的树，它的所有节点的子节点个数都**不超过两个**。一个父节点的两个子节点分别称为**左节点**和**右节点**。

二叉查找树是一种特殊的二叉树，相对较小的值保存在左节点，较大的值保存在右节点。这一特性使得查找效率非常的高。

![](/assets/BST2.png)

### 实现二叉查找树

#### Node类

二叉查找树由节点组成，所以要定义的第一个类就是 Node ：

```js
function Node(data, left, right){
    this.data = data;
    this.left = left;
    this.right = right;
    this.show = show;
}

function show(){
    return this.data;
}
```

Node实例对象即保存数据，也保存和其他节点的链接（left和right），show()方法用来显示保存在节点中的数据。

#### BST类

BST类表示二叉查找树，类中包含一个数据成员：表示二叉查找树根节点的Node对象，并且初始化为`null`。

此外，BST类还需要一个`insert()`方法，用来向树中插入数据：

```js
function BST(){
    this.root = null
    this.insert = insert;
}

function insert(data){
    var n = new Node(data, null, null);
    var current = this.root;
    if(current == null){
        this.root = n;
    }
    else{
        var parent;
        while(true){
            parent = current;    // 保存当前节点
            if(data < current.data){
                current = current.left;
                if(current == null){
                    parent.left = n;
                    break;
                }
            }
            else{
                current = current.right;
                if(current == null){
                    parent.right = n;
                    break;
                }
            }
        }
    }
}
```

插入函数的算法如下：

1. 设置根节点为当前节点，如果根节点为空，则待插入节点保存在根节点；否则执行第2步

2. 如果待插入节点保存的数据小于当前节点的数据，则设置当前节点为原当前节点的左节点；反之执行第4步

3. 如果当前节点为 `null`，就将新节点插入这个位置，退出循环；反之，继续执行循环

4. 如果待插入节点保存的数据大于当前节点的数据，则设置当前节点为原当前节点的右节点

5. 如果当前节点为 `null`，就将新节点插入这个位置，退出循环；反之，继续执行循环


### 二叉查找树的遍历

树的遍历，即将树的所有结点访问且仅访问一次。按照根节点位置的不同分为以下三种：

* 前序遍历：一切以**根**为出发点，先正序遍历左子树，然后再正序遍历右子树

* 中序遍历：以正序先遍历左子树，然后再访问根，再以逆序遍历右子树

* 后序遍历：一切以**叶子结点**为出发点，先逆序遍历左子树，然后再逆序遍历右子树，最后访问根

例如：求下面二叉树的三种遍历

![](/assets/BST2.png)

前序遍历：23 12 6 13 92 83 99

中序遍历：6  12 13 23 83 92 99

后序遍历：6  13 12 83 99 92 23

#### 实现二叉查找树

```js
function BST(){
    this.root = null
    this.insert = insert;
    this.preOrder = preOrder;    // 先序
    this.inOrder = inOrder;      // 中序
    this.postOrder = postOrder;  // 后序
}

// 先序
function preOrder(node){
    if(node != null){
        console.log(node.show() + " ");
        preOrder(node.left);
        preOrder(node.right);
    }
}

// 中序
function inOrder(node){
    if(node != null){
        inOrder(node.left);
        console.log(node.show() + " ");
        inOrder(node.right);
    }
}

// 后序
function postorder(node){
    if(node != null){
        postOrder(node.left);
        postOrder(node.right);
        console.log(node.show() + " ");
    }
}
```


